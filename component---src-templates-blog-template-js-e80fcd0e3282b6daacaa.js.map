{"version":3,"file":"component---src-templates-blog-template-js-e80fcd0e3282b6daacaa.js","mappings":"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","sources":["webpack://yoonkyoung/./src/components/post-header/index.js","webpack://yoonkyoung/./src/components/post-navigator/index.js","webpack://yoonkyoung/./src/components/post-content/index.js","webpack://yoonkyoung/./src/components/giscus/index.js","webpack://yoonkyoung/./src/templates/blog-template.js"],"sourcesContent":["import { Link } from 'gatsby';\nimport React from 'react';\nimport './style.scss';\n\nfunction PostHeader({ post }) {\n  return (\n    <header className=\"post-header\">\n      {post.emoji && <div className=\"emoji\">{post.emoji}</div>}\n      <div className=\"info\">\n        <div className=\"categories\">\n          {post.categories.map((category) => (\n            <Link className=\"category\" key={category} to={`/posts/${category}`}>\n              {category}\n            </Link>\n          ))}\n        </div>\n      </div>\n\n      <h1 className=\"title\">{post.title}</h1>\n      <div className=\"info\">\n        <div className=\"author\">\n          posted by <strong>{post.author}</strong>,\n        </div>{' '}\n        {post.date}\n      </div>\n    </header>\n  );\n}\nexport default PostHeader;\n","import { Link } from 'gatsby';\nimport React from 'react';\nimport './style.scss';\n\nfunction PostNavigator({ prevPost, nextPost }) {\n  return (\n    <div className=\"post-navigator\">\n      <div className=\"post-navigator-card-wrapper\">\n        {nextPost && (\n          <Link className=\"post-card prev\" key={nextPost.id} to={nextPost.slug}>\n            <div className=\"direction\">이전 글</div>\n            <div className=\"title\">{nextPost.title}</div>\n          </Link>\n        )}\n      </div>\n      <div className=\"post-navigator-card-wrapper\">\n        {prevPost && (\n          <Link className=\"post-card next\" key={prevPost.id} to={prevPost.slug}>\n            <div className=\"direction\">다음 글</div>\n            <div className=\"title\">{prevPost.title}</div>\n          </Link>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default PostNavigator;\n","import React from 'react';\nimport './style.scss';\n\nfunction PostContent({ html }) {\n  return (\n    <div className=\"post-content\">\n      <div className=\"markdown\" dangerouslySetInnerHTML={{ __html: html }} />\n    </div>\n  );\n}\n\nexport default PostContent;\n","import React, { createRef, useEffect, useRef } from 'react';\nimport { getValueFromLocalStorage } from '../../utils/localStorage';\n\nconst src = 'https://giscus.app/client.js';\n\nfunction Giscus({ repo, repoId, categoryId, path }) {\n  const rootElm = createRef();\n  const isGiscusLoaded = useRef(false);\n\n  const loadGiscus = (theme) => {\n    if (isGiscusLoaded.current) {\n      const existingGiscus = rootElm.current.querySelector('.giscus');\n      if (existingGiscus) {\n        rootElm.current.removeChild(existingGiscus);\n      }\n\n      const giscus = document.createElement('script');\n      const giscusConfig = {\n        src,\n        'data-repo': repo,\n        'data-repo-id': repoId,\n        'data-category': 'Comments',\n        'data-category-id': categoryId,\n        'data-mapping': 'pathname',\n        'data-strict': '0',\n        'data-reactions-enabled': '1',\n        'data-emit-metadata': '0',\n        'data-input-position': 'bottom',\n        'data-theme': theme,\n        'data-lang': 'ko',\n        crossorigin: 'anonymous',\n        async: true,\n      };\n\n      Object.keys(giscusConfig).forEach((configKey) => {\n        giscus.setAttribute(configKey, giscusConfig[configKey]);\n      });\n\n      rootElm.current.appendChild(giscus);\n    }\n  };\n\n  useEffect(() => {\n    if (!rootElm.current || isGiscusLoaded.current) return;\n\n    const storedIsDarkMode = getValueFromLocalStorage('isDarkMode');\n    const theme = storedIsDarkMode ? 'dark' : 'light';\n\n    loadGiscus(theme);\n    isGiscusLoaded.current = true;\n\n    const themeChangeListener = () => {\n      const newTheme = getValueFromLocalStorage('isDarkMode') ? 'dark' : 'light';\n      loadGiscus(newTheme);\n    };\n\n    window.addEventListener('theme', themeChangeListener);\n\n    return () => {\n      window.removeEventListener('theme', themeChangeListener);\n    };\n  }, [repo, repoId, categoryId, rootElm, path]);\n\n  return <div className=\"giscus\" ref={rootElm} />;\n}\n\nexport default Giscus;\n","import React from 'react';\nimport { graphql } from 'gatsby';\nimport Layout from '../layout';\nimport Seo from '../components/seo';\nimport PostHeader from '../components/post-header';\nimport PostNavigator from '../components/post-navigator';\nimport Post from '../models/post';\nimport PostContent from '../components/post-content';\nimport Giscus from '../components/giscus';\n\nfunction BlogTemplate({ data }) {\n  const curPost = new Post(data.cur);\n  const prevPost = data.prev && new Post(data.prev);\n  const nextPost = data.next && new Post(data.next);\n  const { comments } = data.site?.siteMetadata;\n  const giscusRepo = comments?.giscus?.repo;\n  const giscusRepoId = comments?.giscus?.repoId;\n  const giscusCategoryId = comments?.giscus?.categoryId;\n\n  return (\n    <Layout>\n      <Seo title={curPost?.title} description={curPost?.excerpt} />\n      <PostHeader post={curPost} />\n      <PostContent html={curPost.html} />\n      <PostNavigator prevPost={prevPost} nextPost={nextPost} />\n      {giscusRepo && giscusRepoId && giscusCategoryId && (\n        <Giscus\n          repo={giscusRepo}\n          repoId={giscusRepoId}\n          categoryId={giscusCategoryId}\n          path={curPost.slug}\n        />\n      )}\n    </Layout>\n  );\n}\n\nexport default BlogTemplate;\n\nexport const pageQuery = graphql`\n  query($slug: String, $nextSlug: String, $prevSlug: String) {\n    cur: markdownRemark(fields: { slug: { eq: $slug } }) {\n      id\n      html\n      excerpt(pruneLength: 500, truncate: true)\n      frontmatter {\n        date(formatString: \"MMMM DD, YYYY\")\n        title\n        categories\n        author\n        emoji\n      }\n      fields {\n        slug\n      }\n    }\n\n    next: markdownRemark(fields: { slug: { eq: $nextSlug } }) {\n      id\n      html\n      frontmatter {\n        date(formatString: \"MMMM DD, YYYY\")\n        title\n        categories\n        author\n        emoji\n      }\n      fields {\n        slug\n      }\n    }\n\n    prev: markdownRemark(fields: { slug: { eq: $prevSlug } }) {\n      id\n      html\n      frontmatter {\n        date(formatString: \"MMMM DD, YYYY\")\n        title\n        categories\n        author\n        emoji\n      }\n      fields {\n        slug\n      }\n    }\n\n    site {\n      siteMetadata {\n        siteUrl\n        comments {\n          giscus {\n            repo\n            repoId\n            categoryId\n          }\n        }\n      }\n    }\n  }\n`;\n"],"names":["_ref","post","React","className","emoji","categories","map","category","Link","key","to","title","author","date","prevPost","nextPost","id","slug","html","dangerouslySetInnerHTML","__html","repo","repoId","categoryId","path","rootElm","createRef","isGiscusLoaded","useRef","loadGiscus","theme","current","existingGiscus","querySelector","removeChild","giscus","document","createElement","giscusConfig","src","crossorigin","async","Object","keys","forEach","configKey","setAttribute","appendChild","useEffect","storedIsDarkMode","getValueFromLocalStorage","themeChangeListener","newTheme","window","addEventListener","removeEventListener","ref","_data$site","_comments$giscus","_comments$giscus2","_comments$giscus3","data","curPost","Post","cur","prev","next","comments","site","siteMetadata","giscusRepo","giscusRepoId","giscusCategoryId","Layout","Seo","description","excerpt","PostHeader","PostContent","PostNavigator","Giscus"],"sourceRoot":""}